/* globals Raphael, $ */
const scale = '0.665';

// Set colors here
const colormap = new Map();
colormap.set('empty', '#333333');
colormap.set('fight', '#FF6900');
colormap.set('ateam', '#0000FF');
colormap.set('bteam', '#FF0000');

const rsr = Raphael('map', '1900', '1200');

const regions = [];
let states = [];

for (let i = 0; i < regions.length; i++) {
  regions[i].attr({ class: 'hexagon old' });
  states.push('empty');
}

function drawMap() {
  for (let i = 0; i < regions.length; i++) {
    regions[i].attr({ fill: colormap.get(states[i]) });
  }
}

function updateState(i) {
  if (states[i] === 'empty') {
    states[i] = 'fight';
  } else if (states[i] === 'fight') {
    states[i] = 'ateam';
  } else if (states[i] === 'ateam') {
    states[i] = 'bteam';
  } else if (states[i] === 'bteam') {
    states[i] = 'empty';
  }
  regions[i].attr({ class: 'hexagon new' });
  drawMap();
}

function save() {
  localStorage.setItem('states', states);
}

function load() {
  states = localStorage.getItem('states').split(',');
  drawMap();
}

function reset() {
  for (let i = 0; i < regions.length; i++) {
    states[i] = 'empty';
  }
  drawMap();
}

function newRound() {
  for (let i = 0; i < regions.length; i++) {
    regions[i].attr({ class: 'hexagon old' });
  }
}

// {{{
// regions.push(rsr.path('M1041.6,321.3c-10.7,0.6-21.4,1.4-32.1,2.5c-6.2,8.9-12.3,17.3-17.7,25c5.5,7.7,11.5,16.1,17.7,25 c10.7,1.1,21.4,1.9,32.1,2.5c4.9-8.9,10.2-18.1,15.7-27.5C1051.8,339.4,1046.5,330.2,1041.6,321.3z'));
// regions.push(rsr.path('M1137.8,323.8c-10.7-1.1-21.4-1.9-32.1-2.5c-4.9,8.9-10.2,18.1-15.7,27.5c5.5,9.4,10.8,18.6,15.7,27.5 c10.7-0.6,21.4-1.4,32.1-2.5c6.2-8.9,12.3-17.3,17.7-25C1150,341.1,1144,332.7,1137.8,323.8z'));
// regions.push(rsr.path('M1137.8,373.8c-10.7,1.1-21.4,1.9-32.1,2.5c-5.8,9.4-11.6,19.1-17,28.8c4.6,9.1,8.6,17.9,11.7,26.3 c8.9-1.7,17.8-4.2,26.7-7.5c7.1-10,14.5-19.7,21.7-28.8C1146,388.8,1142.2,381.6,1137.8,373.8z'));
// regions.push(rsr.path('M1088.7,292.5c-10-0.6-20-0.6-30.1,0c-5.5,9.7-11.2,19.3-17,28.8c4.9,8.9,10.2,18.1,15.7,27.5 c10.9,0,21.8,0,32.7,0c5.5-9.4,10.8-18.6,15.7-27.5C1099.9,311.8,1094.1,302.1,1088.7,292.5z'));
// regions.push(rsr.path('M1127,273.7c-8.9-3.3-17.8-5.8-26.7-7.5c-3.1,8.3-7.1,17.2-11.7,26.3c5.5,9.7,11.2,19.3,17,28.8 c10.7,0.6,21.4,1.4,32.1,2.5c4.4-7.8,8.2-14.9,11-21.3C1141.5,293.4,1134.2,283.7,1127,273.7z'));
// regions.push(rsr.path('M1046.9,266.2c-8.9,1.7-17.8,4.2-26.7,7.5c-7.1,10-14.5,19.7-21.7,28.8c2.8,6.3,6.6,13.5,11,21.3 c10.7-1.1,21.4-1.9,32.1-2.5c5.8-9.4,11.6-19.1,17-28.8C1054.1,283.4,1050.1,274.6,1046.9,266.2z'));
// regions.push(rsr.path('M553.7,171.8c-12.2-0.7-24.5-0.7-36.7,0c-6.1,8.4-12.2,17-18.3,25.7c6.1,7.3,12.2,14.8,18.3,22.5 c12.2-0.7,24.5-0.7,36.7,0c6.1-7.7,12.2-15.2,18.3-22.5C565.9,188.8,559.8,180.2,553.7,171.8z'));
// regions.push(rsr.path('M608.3,204c-12-2.9-24.1-5.1-36.3-6.5c-6.1,7.3-12.2,14.8-18.3,22.5c6.1,8.4,12.2,17,18.3,25.7 c12.2,1.4,24.3,3.6,36.3,6.5c6-6.6,11.9-13,17.9-19.2C620.2,223.2,614.2,213.5,608.3,204z'));
// regions.push(rsr.path('M498.7,197.5c-12.2,1.4-24.3,3.6-36.3,6.5c-6,9.5-11.9,19.1-17.9,29c5.9,6.2,11.9,12.6,17.9,19.2 c12-2.9,24.1-5.1,36.3-6.5c6.1-8.8,12.2-17.3,18.3-25.7C510.9,212.3,504.8,204.8,498.7,197.5z'));
// regions.push(rsr.path('M553.7,220c-12.2-0.7-24.5-0.7-36.7,0c-6.1,8.4-12.2,17-18.3,25.7c6.1,7.3,12.2,14.8,18.3,22.5 c12.2-0.7,24.5-0.7,36.7,0c6.1-7.7,12.2-15.2,18.3-22.5C565.9,237,559.8,228.4,553.7,220z'));
// regions.push(rsr.path('M940.6,735.8c-14.2-1.6-28.3-3.3-42.5-4.9c-2.7,12.6-4.7,25.1-6,37.5c12.8,14,26.4,28,40.6,41.7 c14.2,1.6,28.3,3.3,42.5,4.9c-0.1-12.1,0.6-24.4,1.9-36.8C964.3,764.2,952.1,750,940.6,735.8L940.6,735.8z'));
// regions.push(rsr.path('M922.7,655.4c-14.2-1.6-28.3-3.3-42.5-4.9c-5.5,12.5-10.3,25.1-14.4,37.7c10.1,14.2,20.8,28.5,32.3,42.7 c14.2,1.6,28.3,3.3,42.5,4.9c2.7-12.6,6.1-25.2,10.2-37.8C940.8,683.7,931.4,669.5,922.7,655.4L922.7,655.4z'));
// regions.push(rsr.path('M865.8,688.2c-14.2-1.6-28.3-3.3-42.5-4.9c-4.1,12.6-7.5,25.2-10.2,37.8c11.5,14.2,23.6,28.4,36.5,42.4 c14.2,1.6,28.3,3.3,42.5,4.9c1.3-12.4,3.3-24.9,6-37.5C886.7,716.7,875.9,702.4,865.8,688.2L865.8,688.2z'));
// regions.push(rsr.path('M795.3,640.7c-14.2-1.6-28.3-3.3-42.5-4.9c-5.5,12.5-10.3,25.1-14.4,37.7c10.1,14.2,20.8,28.5,32.3,42.7 c14.2,1.6,28.3,3.3,42.5,4.9c2.7-12.6,6.1-25.2,10.2-37.8C813.3,669.1,803.9,654.8,795.3,640.7L795.3,640.7z'));
// regions.push(rsr.path('M794.4,562.2c-14.2-1.6-28.3-3.3-42.5-4.9c-8.4,11.9-16,24.1-23,36.4c7.2,13.9,15.2,28,23.8,42.1 c14.2,1.6,28.3,3.3,42.5,4.9c5.5-12.5,11.7-24.9,18.7-37.2C806.7,589.6,800.2,575.8,794.4,562.2L794.4,562.2z'));
// regions.push(rsr.path('M811,488.8c-14.2-1.6-28.3-3.3-42.5-4.9c-11.3,10.8-21.9,22-31.7,33.4c4.3,13.1,9.4,26.4,15.1,40 c14.2,1.6,28.3,3.3,42.5,4.9c8.4-11.9,17.5-23.6,27.3-35.1C817.4,514,813.9,501.2,811,488.8L811,488.8z'));
// regions.push(rsr.path('M 728.5,593.3 688.6,588.7 673.4,626.7 698.1,669.2 738,673.8 753.3,635.9 z'));
// regions.push(rsr.path('M415,363.9c-12.6-2.4-25.2-4.6-37.8-6.6c-4.4,9.7-9.2,19.6-14.3,29.8c7.8,11.6,15.7,23.1,23.4,34.5 c13.1,1.3,26.3,2.7,39.4,4.2c5.2-9.5,10-18.9,14.5-27.9C431.9,386.7,423.5,375.4,415,363.9z'));
// regions.push(rsr.path('M187,270.6c-11.8-0.2-23.6-0.2-35.4,0c-6.1,11.8-12.5,23.7-19,35.6c5.7,11.5,11.7,23,17.8,34.6 c12.6-0.2,25.2-0.2,37.8,0c6.1-11.6,12.1-23.2,17.8-34.6C199.5,294.3,193.2,282.4,187,270.6z'));
// regions.push(rsr.path('M242.7,308.1c-12.2-0.9-24.5-1.5-36.7-1.9c-5.7,11.5-11.7,23-17.8,34.6c6.5,11.8,13.1,23.6,19.8,35.5 c12.9,0.3,25.8,0.7,38.7,1.3c5.9-11.3,11.6-22.5,17-33.5C256.7,332.1,249.6,320.1,242.7,308.1z'));
// regions.push(rsr.path('M362.9,387.1c-12.9-1.5-25.8-2.8-38.7-4c-5.3,10.6-10.9,21.3-16.8,32.2c7.3,11.7,14.7,23.3,21.9,34.9 c13.3,0.7,26.7,1.4,40,2.2c5.9-10.5,11.6-20.7,17-30.8C378.6,410.2,370.7,398.7,362.9,387.1z'));
// regions.push(rsr.path('M425.8,425.7c-13.1-1.5-26.3-2.9-39.4-4.2c-5.4,10.1-11.1,20.3-17,30.8c7.4,11.3,14.8,22.5,22,33.4 c13.5,0.5,26.9,1.1,40.4,1.8c6.1-10,12-19.7,17.6-29.2C441.6,447.7,433.7,436.8,425.8,425.7z'));
// regions.push(rsr.path('M188.2,340.8c-12.6-0.2-25.2-0.2-37.8,0c-6.5,11.8-13.1,23.6-19.8,35.5c6.2,11.5,12.5,23.1,19,34.8 c13.1-0.1,26.3-0.1,39.4,0c6.5-11.6,12.8-23.3,19-34.8C201.3,364.4,194.7,352.6,188.2,340.8z'));
// regions.push(rsr.path('M246.8,377.6c-12.9-0.6-25.8-1-38.7-1.3c-6.2,11.5-12.5,23.1-19,34.8c6.7,11.8,13.5,23.5,20.3,35.3 c13.3,0.2,26.7,0.4,40,0.7c6.4-11.4,12.6-22.7,18.6-34C260.9,401.4,253.8,389.5,246.8,377.6z'));
// regions.push(rsr.path('M307.4,415.2c-13.1-0.8-26.3-1.5-39.4-2.1c-6,11.2-12.3,22.5-18.6,34c7,11.7,14,23.5,20.9,35.1 c13.5,0.2,26.9,0.5,40.4,0.9c6.4-11.1,12.7-22.1,18.7-33C322.1,438.6,314.8,427,307.4,415.2z'));
// regions.push(rsr.path('M369.4,452.4c-13.3-0.8-26.7-1.6-40-2.2c-6.1,10.8-12.3,21.9-18.7,33c7.1,11.5,14,22.9,20.9,34.1 c13.5,0.1,27,0.3,40.6,0.4c6.6-10.8,13-21.4,19.3-31.9C384.2,474.8,376.8,463.7,369.4,452.4z'));
// regions.push(rsr.path('M431.8,487.6c-13.5-0.6-26.9-1.2-40.4-1.8c-6.2,10.4-12.7,21.1-19.3,31.9c6.9,11,13.7,21.8,20.3,32.4 c13.5-0.2,27-0.4,40.6-0.6c7-10.4,13.7-20.6,20.3-30.6C446.3,508.6,439.1,498.2,431.8,487.6z'));
// regions.push(rsr.path('M189.1,411.1c-13.1-0.1-26.3-0.1-39.4,0c-6.7,11.8-13.5,23.5-20.3,35.3c6.5,11.6,13.1,23.3,19.8,34.9 c13.5,0,26.9,0,40.4,0c6.7-11.7,13.3-23.3,19.8-34.9C202.5,434.6,195.8,422.8,189.1,411.1z'));
// regions.push(rsr.path('M249.4,447.1c-13.3-0.3-26.7-0.6-40-0.7c-6.5,11.6-13.1,23.3-19.8,34.9c6.8,11.7,13.6,23.5,20.4,35.2 c13.5,0,27,0.1,40.6,0.2c6.7-11.5,13.3-23,19.8-34.4C263.3,470.6,256.3,458.9,249.4,447.1z'));
// regions.push(rsr.path('M189.5,481.3c-13.5,0-26.9,0-40.4,0c-6.8,11.7-13.6,23.5-20.4,35.2c6.7,11.7,13.5,23.4,20.3,35.1 c13.5,0,27,0,40.6,0c6.8-11.7,13.6-23.4,20.3-35.1C203.1,504.7,196.3,493,189.5,481.3z'));
// regions.push(rsr.path('M96,308.1c12.2-0.9,24.5-1.5,36.7-1.9c5.7,11.5,11.7,23,17.8,34.6c-6.5,11.8-13.1,23.6-19.8,35.5 c-12.9,0.3-25.8,0.7-38.7,1.3c-5.9-11.3-11.6-22.5-17-33.5C82,332.1,89.1,320.1,96,308.1z'));
// regions.push(rsr.path('M37.1,347.4c12.6-1.3,25.2-2.4,37.8-3.3c5.5,11,11.1,22.2,17,33.5c-7,11.9-14.1,23.7-21.2,35.5 c-13.1,0.6-26.3,1.3-39.4,2.1c-5.8-10.9-11.4-21.7-16.8-32.2C22.1,371.2,29.6,359.4,37.1,347.4z'));
// regions.push(rsr.path('M91.9,377.6c12.9-0.6,25.8-1,38.7-1.3c6.2,11.5,12.5,23.1,19,34.8c-6.7,11.8-13.5,23.5-20.3,35.3 c-13.3,0.2-26.7,0.4-40,0.7c-6.4-11.4-12.6-22.7-18.6-34C77.8,401.4,84.9,389.5,91.9,377.6z'));
// regions.push(rsr.path('M89.3,447.1c13.3-0.3,26.7-0.6,40-0.7c6.5,11.6,13.1,23.3,19.8,34.9c-6.8,11.7-13.6,23.5-20.4,35.2 c-13.5,0-27,0.1-40.6,0.2c-6.7-11.5-13.3-23-19.8-34.4C75.4,470.6,82.4,458.9,89.3,447.1z'));
// regions.push(rsr.path('M88.2,516.6c13.5-0.1,27-0.1,40.6-0.2c6.7,11.7,13.5,23.4,20.3,35.1c-6.7,11.7-13.5,23.4-20.1,35 c-13.5-0.1-26.9-0.2-40.4-0.4c-6.9-11.7-13.8-23.3-20.6-34.9C74.6,539.8,81.4,528.2,88.2,516.6z'));
// regions.push(rsr.path('M433,549.4c-13.5,0.2-27,0.4-40.6,0.6c-6.9,10.8-14,21.8-21.2,32.9c6.3,10.6,12.3,21.1,18.2,31.3 c13.3-0.9,26.7-1.9,40-3c7.7-10.8,15.2-21.5,22.6-31.9C445.9,569.6,439.5,559.6,433,549.4z'));
// regions.push(rsr.path('M189.6,551.5c-13.5,0-27,0-40.6,0c-6.7,11.7-13.5,23.4-20.1,35c6.8,11.7,13.6,23.5,20.4,35.2 c13.3,0.1,26.7,0.1,40,0c6.7-11.7,13.6-23.5,20.4-35.2C203.1,574.9,196.4,563.2,189.6,551.5z'));
// regions.push(rsr.path('M27.4,550.9c13.5,0.1,27,0.2,40.6,0.3c6.8,11.5,13.7,23.2,20.6,34.9c-6.5,11.5-13,22.9-19.3,34.2 c-13.3-0.4-26.7-0.9-40-1.5c-7.2-11.6-14.4-23.1-21.5-34.5C14.2,573.3,20.7,562.2,27.4,550.9z'));
// regions.push(rsr.path('M88.6,586.1c13.5,0.2,26.9,0.3,40.4,0.4c6.8,11.7,13.6,23.5,20.4,35.2c-6.6,11.7-13.1,23.3-19.4,34.9 c-13.1-0.2-26.3-0.6-39.4-1c-7-11.8-14.1-23.6-21.1-35.3C75.6,609,82.1,597.6,88.6,586.1z'));
// regions.push(rsr.path('M29.3,618.8c13.3,0.6,26.7,1.1,40,1.5c7.1,11.7,14.1,23.5,21.1,35.3c-6.1,11.3-12.1,22.6-17.9,33.7 c-12.9-0.7-25.8-1.6-38.7-2.7C26.4,674.8,19,663,11.6,651.4C17.3,640.7,23.2,629.8,29.3,618.8z'));
// regions.push(rsr.path('M90.5,655.6c13.1,0.5,26.3,0.8,39.4,1c6.8,11.8,13.5,23.6,20.1,35.4c-6.3,11.6-12.5,23.2-18.4,34.7 c-12.6-0.4-25.2-0.9-37.8-1.6c-7-11.9-14.1-23.9-21.2-35.8C78.3,678.2,84.3,666.9,90.5,655.6z'));

// regions.push(rsr.path("1176.19,763.13 1074.02,763.13 1022.94,851.61 1074.02,940.09 1176.19,940.09 1227.28,851.61 "));
// regions.push(rsr.path("1176.19,959.77 1074.02,959.77 1022.94,1048.25 1074.02,1136.73 1176.19,1136.73 1227.28,1048.25 "));
// regions.push(rsr.path("1516.72,763.13 1414.55,763.13 1363.46,851.61 1414.55,940.09 1516.72,940.09 1567.8,851.61 "));
// regions.push(rsr.path("1176.19,566.51 1074.02,566.51 1022.94,654.99 1074.02,743.47 1176.19,743.47 1227.28,654.99 "));
// regions.push(rsr.path("1345.46,664.83 1243.29,664.83 1192.21,753.31 1243.29,841.79 1345.46,841.79 1396.55,753.31 "));
// regions.push(rsr.path("1516.72,566.51 1414.55,566.51 1363.46,654.99 1414.55,743.47 1516.72,743.47 1567.8,654.99 "));
// regions.push(rsr.path("1516.72,369.89 1414.55,369.89 1363.46,458.37 1414.55,546.85 1516.72,546.85 1567.8,458.37 "));
// regions.push(rsr.path("1685.96,468.21 1583.79,468.21 1532.71,556.69 1583.79,645.17 1685.96,645.17 1737.05,556.69 "));
// regions.push(rsr.path("1857.24,369.89 1755.07,369.89 1703.98,458.37 1755.07,546.85 1857.24,546.85 1908.32,458.37 "));
// regions.push(rsr.path("1685.96,271.57 1583.79,271.57 1532.71,360.05 1583.79,448.53 1685.96,448.53 1737.05,360.05 "));
// regions.push(rsr.path("1857.24,173.27 1755.07,173.27 1703.98,261.75 1755.07,350.23 1857.24,350.23 1908.32,261.75 "));
// regions.push(rsr.path("1686.97,861.45 1584.8,861.45 1533.71,949.93 1584.8,1038.41 1686.97,1038.41 1738.05,949.93 "));
// regions.push(rsr.path("1686.97,664.83 1584.8,664.83 1533.71,753.31 1584.8,841.79 1686.97,841.79 1738.05,753.31 "));
// regions.push(rsr.path("1856.24,763.13 1754.07,763.13 1702.98,851.61 1754.07,940.09 1856.24,940.09 1907.32,851.61 "));
// regions.push(rsr.path("1002.91,861.45 900.74,861.45 849.66,949.93 900.74,1038.41 1002.91,1038.41 1054,949.93 "));
// regions.push(rsr.path("1516.72,959.77 1414.55,959.77 1363.46,1048.25 1414.55,1136.73 1516.72,1136.73 1567.8,1048.25 "));
// regions.push(rsr.path("1345.46,861.45 1243.29,861.45 1192.21,949.93 1243.29,1038.41 1345.46,1038.41 1396.55,949.93 "));
// regions.push(rsr.path("2027.49,271.57 1925.32,271.57 1874.23,360.05 1925.32,448.53 2027.49,448.53 2078.57,360.05 "));
// regions.push(rsr.path("2027.49,74.95 1925.32,74.95 1874.23,163.43 1925.32,251.91 2027.49,251.91 2078.57,163.43 "));
// regions.push(rsr.path("1002.91,665.6 900.74,665.6 849.66,754.09 900.74,842.57 1002.91,842.57 1054,754.09 "));
// regions.push(rsr.path("1856.24,566.51 1754.07,566.51 1702.98,654.99 1754.07,743.47 1856.24,743.47 1907.32,654.99 "));
// regions.push(rsr.path("2027.49,468.21 1925.32,468.21 1874.23,556.69 1925.32,645.17 2027.49,645.17 2078.57,556.69 "));
// regions.push(rsr.path("2431.28,1286.38 2262.33,1286.38 2177.85,1432.69 2262.33,1579.01 2431.28,1579.01 2515.75,1432.69 "));
// regions.push(rsr.path("1868.19,1286.38 1699.24,1286.38 1614.76,1432.69 1699.24,1579.01 1868.19,1579.01 1952.66,1432.69 "));
// regions.push(rsr.path("2712.8,1123.81 2543.85,1123.81 2459.37,1270.13 2543.85,1416.45 2712.8,1416.45 2797.27,1270.13 "));
// regions.push(rsr.path("2148.07,1123.81 1979.12,1123.81 1894.64,1270.13 1979.12,1416.45 2148.07,1416.45 2232.54,1270.13 "));
// regions.push(rsr.path("2431.28,961.25 2262.33,961.25 2177.85,1107.57 2262.33,1253.88 2431.28,1253.88 2515.75,1107.57 "));
// regions.push(rsr.path("2712.8,798.66 2543.85,798.66 2459.37,944.98 2543.85,1091.29 2712.8,1091.29 2797.27,944.98 "));
// regions.push(rsr.path("2430.43,636.1 2261.48,636.1 2177.01,782.41 2261.48,928.73 2430.43,928.73 2514.91,782.41 "));
// regions.push(rsr.path("1586.49,1446.97 1417.54,1446.97 1333.06,1593.29 1417.54,1739.6 1586.49,1739.6 1670.97,1593.29 "));
// regions.push(rsr.path("2712,473.53 2543.05,473.53 2458.57,619.85 2543.05,766.17 2712,766.17 2796.48,619.85 "));
// regions.push(rsr.path("2712,148.38 2543.05,148.38 2458.57,294.7 2543.05,441.01 2712,441.01 2796.48,294.7 "));
// regions.push(rsr.path("365.78,498.42 520.48,498.42 597.83,364.45 520.48,230.47 365.78,230.47 288.43,364.45 "));
// regions.push(rsr.path("881.37,498.42 1036.07,498.42 1113.42,364.45 1036.07,230.47 881.37,230.47 804.02,364.45 "));
// regions.push(rsr.path("107.99,647.27 262.69,647.27 340.04,513.3 262.69,379.33 107.99,379.33 30.64,513.3 "));
// regions.push(rsr.path("625.09,647.27 779.79,647.27 857.14,513.3 779.79,379.33 625.09,379.33 547.74,513.3 "));
// regions.push(rsr.path("365.78,796.15 520.48,796.15 597.83,662.18 520.48,528.2 365.78,528.2 288.43,662.18 "));
// regions.push(rsr.path("107.99,945.03 262.69,945.03 340.04,811.05 262.69,677.08 107.99,677.08 30.64,811.05 "));
// regions.push(rsr.path("366.52,1093.88 521.22,1093.88 598.57,959.91 521.22,825.93 366.52,825.93 289.17,959.91 "));
// regions.push(rsr.path("1139.28,351.41 1293.98,351.41 1371.33,217.44 1293.98,83.46 1139.28,83.46 1061.93,217.44 "));
// regions.push(rsr.path("108.72,1242.73 263.42,1242.73 340.77,1108.76 263.42,974.79 108.72,974.79 31.37,1108.76 "));
// regions.push(rsr.path("108.72,1540.44 263.42,1540.44 340.77,1406.47 263.42,1272.49 108.72,1272.49 31.37,1406.47 "));
// regions.push(rsr.path("365.78,1689.29 520.48,1689.29 597.83,1555.32 520.48,1421.35 365.78,1421.35 288.43,1555.32 "));
// regions.push(rsr.path("625.09,352.11 779.79,352.11 857.14,218.14 779.79,84.16 625.09,84.16 547.74,218.14 "));

const scalefactor = 'S' + scale + ',' + scale + ',0,0';
regions.push(rsr.path('M1176.19 763.13 1074.02 763.13 1022.94 851.61 1074.02 940.09 1176.19 940.09 1227.28 851.61 1176.19 763.13z').transform(scalefactor));
regions.push(rsr.path('M1176.19 959.77 1074.02 959.77 1022.94 1048.25 1074.02 1136.73 1176.19 1136.73 1227.28 1048.25 1176.19 959.77z').transform(scalefactor));
regions.push(rsr.path('M1516.71 763.13 1414.55 763.13 1363.46 851.61 1414.55 940.09 1516.71 940.09 1567.8 851.61 1516.71 763.13z').transform(scalefactor));
regions.push(rsr.path('M1176.19 566.51 1074.02 566.51 1022.94 654.99 1074.02 743.47 1176.19 743.47 1227.28 654.99 1176.19 566.51z').transform(scalefactor));
regions.push(rsr.path('M1345.46 664.83 1243.29 664.83 1192.21 753.31 1243.29 841.79 1345.46 841.79 1396.55 753.31 1345.46 664.83z').transform(scalefactor));
regions.push(rsr.path('M1516.71 566.51 1414.55 566.51 1363.46 654.99 1414.55 743.47 1516.71 743.47 1567.8 654.99 1516.71 566.51z').transform(scalefactor));
regions.push(rsr.path('M1516.71 369.89 1414.55 369.89 1363.46 458.37 1414.55 546.85 1516.71 546.85 1567.8 458.37 1516.71 369.89z').transform(scalefactor));
regions.push(rsr.path('M1685.96 468.21 1583.79 468.21 1532.71 556.69 1583.79 645.17 1685.96 645.17 1737.05 556.69 1685.96 468.21z').transform(scalefactor));
regions.push(rsr.path('M1857.24 369.89 1755.07 369.89 1703.98 458.37 1755.07 546.85 1857.24 546.85 1908.32 458.37 1857.24 369.89z').transform(scalefactor));
regions.push(rsr.path('M1685.96 271.57 1583.79 271.57 1532.71 360.05 1583.79 448.53 1685.96 448.53 1737.05 360.05 1685.96 271.57z').transform(scalefactor));
regions.push(rsr.path('M1857.24 173.27 1755.07 173.27 1703.98 261.75 1755.07 350.23 1857.24 350.23 1908.32 261.75 1857.24 173.27z').transform(scalefactor));
regions.push(rsr.path('M1686.96 861.45 1584.8 861.45 1533.71 949.93 1584.8 1038.41 1686.96 1038.41 1738.05 949.93 1686.96 861.45z').transform(scalefactor));
regions.push(rsr.path('M1686.96 664.83 1584.8 664.83 1533.71 753.31 1584.8 841.79 1686.96 841.79 1738.05 753.31 1686.96 664.83z').transform(scalefactor));
regions.push(rsr.path('M1856.24 763.13 1754.07 763.13 1702.98 851.61 1754.07 940.09 1856.24 940.09 1907.32 851.61 1856.24 763.13z').transform(scalefactor));
regions.push(rsr.path('M1002.91 861.45 900.74 861.45 849.66 949.93 900.74 1038.41 1002.91 1038.41 1054 949.93 1002.91 861.45z').transform(scalefactor));
regions.push(rsr.path('M1516.71 959.77 1414.55 959.77 1363.46 1048.25 1414.55 1136.73 1516.71 1136.73 1567.8 1048.25 1516.71 959.77z').transform(scalefactor));
regions.push(rsr.path('M1345.46 861.45 1243.29 861.45 1192.21 949.93 1243.29 1038.41 1345.46 1038.41 1396.55 949.93 1345.46 861.45z').transform(scalefactor));
regions.push(rsr.path('M2027.49 271.57 1925.32 271.57 1874.23 360.05 1925.32 448.53 2027.49 448.53 2078.57 360.05 2027.49 271.57z').transform(scalefactor));
regions.push(rsr.path('M2027.49 74.95 1925.32 74.95 1874.23 163.43 1925.32 251.91 2027.49 251.91 2078.57 163.43 2027.49 74.95z').transform(scalefactor));
regions.push(rsr.path('M1002.91 665.61 900.74 665.61 849.66 754.09 900.74 842.57 1002.91 842.57 1054 754.09 1002.91 665.61z').transform(scalefactor));
regions.push(rsr.path('M1856.24 566.51 1754.07 566.51 1702.98 654.99 1754.07 743.47 1856.24 743.47 1907.32 654.99 1856.24 566.51z').transform(scalefactor));
regions.push(rsr.path('M2027.49 468.21 1925.32 468.21 1874.23 556.69 1925.32 645.17 2027.49 645.17 2078.57 556.69 2027.49 468.21z').transform(scalefactor));
regions.push(rsr.path('M2431.28 1286.38 2262.33 1286.38 2177.85 1432.69 2262.33 1579.01 2431.28 1579.01 2515.75 1432.69 2431.28 1286.38z').transform(scalefactor));
regions.push(rsr.path('M1868.19 1286.38 1699.24 1286.38 1614.76 1432.69 1699.24 1579.01 1868.19 1579.01 1952.66 1432.69 1868.19 1286.38z').transform(scalefactor));
regions.push(rsr.path('M2712.8 1123.82 2543.85 1123.82 2459.37 1270.13 2543.85 1416.45 2712.8 1416.45 2797.27 1270.13 2712.8 1123.82z').transform(scalefactor));
regions.push(rsr.path('M2148.07 1123.82 1979.12 1123.82 1894.64 1270.13 1979.12 1416.45 2148.07 1416.45 2232.54 1270.13 2148.07 1123.82z').transform(scalefactor));
regions.push(rsr.path('M2431.28 961.25 2262.33 961.25 2177.85 1107.57 2262.33 1253.88 2431.28 1253.88 2515.75 1107.57 2431.28 961.25z').transform(scalefactor));
regions.push(rsr.path('M2712.8 798.66 2543.85 798.66 2459.37 944.98 2543.85 1091.3 2712.8 1091.3 2797.27 944.98 2712.8 798.66z').transform(scalefactor));
regions.push(rsr.path('M2430.43 636.1 2261.48 636.1 2177.01 782.41 2261.48 928.73 2430.43 928.73 2514.91 782.41 2430.43 636.1z').transform(scalefactor));
regions.push(rsr.path('M1586.49 1446.97 1417.54 1446.97 1333.06 1593.29 1417.54 1739.6 1586.49 1739.6 1670.97 1593.29 1586.49 1446.97z').transform(scalefactor));
regions.push(rsr.path('M2712 473.53 2543.05 473.53 2458.57 619.85 2543.05 766.17 2712 766.17 2796.48 619.85 2712 473.53z').transform(scalefactor));
regions.push(rsr.path('M2712 148.38 2543.05 148.38 2458.57 294.7 2543.05 441.01 2712 441.01 2796.48 294.7 2712 148.38z').transform(scalefactor));
regions.push(rsr.path('M365.78 498.42 520.48 498.42 597.83 364.45 520.48 230.47 365.78 230.47 288.43 364.45 365.78 498.42z').transform(scalefactor));
regions.push(rsr.path('M881.37 498.42 1036.07 498.42 1113.42 364.45 1036.07 230.47 881.37 230.47 804.02 364.45 881.37 498.42z').transform(scalefactor));
regions.push(rsr.path('M107.99 647.27 262.69 647.27 340.04 513.3 262.69 379.33 107.99 379.33 30.64 513.3 107.99 647.27z').transform(scalefactor));
regions.push(rsr.path('M625.09 647.27 779.79 647.27 857.14 513.3 779.79 379.33 625.09 379.33 547.74 513.3 625.09 647.27z').transform(scalefactor));
regions.push(rsr.path('M365.78 796.15 520.48 796.15 597.83 662.18 520.48 528.2 365.78 528.2 288.43 662.18 365.78 796.15z').transform(scalefactor));
regions.push(rsr.path('M107.99 945.03 262.69 945.03 340.04 811.05 262.69 677.08 107.99 677.08 30.64 811.05 107.99 945.03z').transform(scalefactor));
regions.push(rsr.path('M366.52 1093.88 521.22 1093.88 598.57 959.91 521.22 825.93 366.52 825.93 289.17 959.91 366.52 1093.88z').transform(scalefactor));
regions.push(rsr.path('M1139.28 351.41 1293.98 351.41 1371.33 217.44 1293.98 83.46 1139.28 83.46 1061.93 217.44 1139.28 351.41z').transform(scalefactor));
regions.push(rsr.path('M108.72 1242.73 263.42 1242.73 340.77 1108.76 263.42 974.79 108.72 974.79 31.38 1108.76 108.72 1242.73z').transform(scalefactor));
regions.push(rsr.path('M108.72 1540.44 263.42 1540.44 340.77 1406.47 263.42 1272.49 108.72 1272.49 31.38 1406.47 108.72 1540.44z').transform(scalefactor));
regions.push(rsr.path('M365.78 1689.29 520.48 1689.29 597.83 1555.32 520.48 1421.35 365.78 1421.35 288.43 1555.32 365.78 1689.29z').transform(scalefactor));
regions.push(rsr.path('M625.09 352.11 779.79 352.11 857.14 218.14 779.79 84.16 625.09 84.16 547.74 218.14 625.09 352.11z').transform(scalefactor));


// }}}


// Connect event listeners
for (let i = 0; i < regions.length; i++) {
  (function (j) {
    $(regions[j].node).click(function () { updateState(j); });
  }(i));
}

drawMap();
